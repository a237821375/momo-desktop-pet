# UI 组件说明

## 控制岛 (Control Island)

右侧垂直按钮组，提供应用的核心功能控制。

### 按钮功能

#### 1. ⚙️ 设置按钮
- **功能**: 打开设置面板
- **待实现**:
  - API Key 配置（百炼 TTS、LLM）
  - 角色选择和切换
  - TTS 语音设置

#### 2. 💬 聊天按钮
- **功能**: 打开聊天窗口
- **待实现**:
  - 对话历史显示
  - 文本输入框
  - 语音输入功能

#### 3. 🔄 刷新按钮
- **功能**: 重新加载窗口
- **说明**: 会清除当前对话和状态
- **已实现**: ✅

#### 4. ✋ 移动按钮
- **功能**: 拖拽此按钮可移动整个窗口
- **说明**: 避免误触其他按钮
- **待完善**: 需要在主进程实现窗口移动 IPC

#### 5. 👁️ 可见性按钮
- **功能**: 光标淡出模式
- **已实现**: ✅
- **行为**:
  - **开启后**: 光标远离窗口时，角色和控制岛自动淡出（不透明度降为 0）
  - **光标靠近**: 恢复可见
  - **关闭方式**: 移动到控制岛区域，再次点击眼睛按钮

### 样式特性

- **毛玻璃效果**: backdrop-filter 模糊背景
- **悬停反馈**: 按钮左移并增强阴影
- **激活状态**: 蓝色高亮（移动按钮拖拽时、淡出模式开启时）
- **平滑过渡**: 所有状态变化都有动画

### 使用示例

```typescript
import { ControlIsland } from './ui/control-island';

// 初始化控制岛
const controlIsland = new ControlIsland();

// 显示/隐藏
controlIsland.show();
controlIsland.hide();

// 销毁
controlIsland.destroy();
```

### CSS 类说明

- `.control-btn`: 基础按钮样式
- `.control-btn.active`: 激活状态（蓝色）
- `.control-btn.dragging`: 拖拽状态
- `#app.fade-mode`: 淡出模式激活

### 待完成功能

1. **移动按钮**:
   - 在主进程添加 IPC handler
   - 实现 `window.setBounds()` 调用

2. **设置面板**:
   - 创建设置 UI 组件
   - API Key 输入和验证
   - 配置保存逻辑

3. **聊天窗口**:
   - 创建聊天 UI 组件
   - 对话历史管理
   - 输入框和发送逻辑
